<html>
<head>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style>
p{
    margin-left:50px;
}
span{
    margin-left:50px;
}
h2{
    margin-left:100px;
}
</style>
</head>
<body onload="matchResult()">

<div class="container">

 <div class="row">
    <div class="col" align="center" id="result">
        Match winner
    </div>
 </div>

 <div class="row">

    <div class="col-6">
        <h4>Team A</h4>
        <table class="table">
            <thead class="thead-dark">
                    <tr>
                    <th scope="col"></th>
                    <th scope="col">Name</th>
                    <th scope="col">Runs</th>
                    <th scope="col">Balls</th>
                    </tr>
            </thead>

            <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td><a href="player1.html">Player 1</a></td>
                    <td id="r0">23</td>
                    <td id="b0"></td>
                    </tr>

                <tr>
                    <th scope="row">2</th>
                    <td><a href="player2.html">Player 2</a></td>
                    <td id="r1">2</td>
                    <td id="b1"></td>
                    </tr>

                <tr>
                    <th scope="row">3</th>
                    <td><a href="player3.html">Player 3</a></td>
                    <td id="r2">2</td>
                    <td id="b2"></td>
                    </tr>

                <tr>
                    <th scope="row">4</th>
                    <td><a href="player4.html">Player 4</a></td>
                    <td id="r3">2</td>
                    <td id="b3"></td>
                    </tr>

                <tr>
                    <th scope="row">5</th>
                    <td><a href="player5.html">Player 5</a></td>
                    <td id="r4">2</td>
                    <td id="b4"></td>
                    </tr>

                <tr>
                    <th scope="row">6</th>
                    <td><a href="player6.html">Player 6</a></td>
                    <td id="r5">2</td>
                    <td id="b5"></td>
                    </tr>

                <tr>
                    <th scope="row">7</th>
                    <td><a href="player7.html">Player 7</a></td>
                    <td id="r6">2</td>
                    <td id="b6"></td>
                    </tr>
            
                <tr>
                    <th scope="row">8</th>
                    <td><a href="player8.html">Player 8</a></td>
                    <td id="r7">2</td>
                    <td id="b7"></td>
                    </tr>

                <tr>
                    <th scope="row">9</th>
                    <td><a href="player9.html">Player 9</a></td>
                    <td id="r8">2</td>
                    <td id="b8"></td>
                    </tr>

                <tr>
                    <th scope="row">10</th>
                    <td><a href="player10.html">Player 10</a></td>
                    <td id="r9">2</td>
                    <td id="b9"></td>
                    </tr>

                <tr>
                    <th scope="row"></th>
                    <td align="right">Total</td>
                    <td id="t1"></td>
                    <td></td>
                    </tr>
            </tbody>
        </table>



            
    </div>

    <div class="col-6">
        <h4>Team B</h4>
        <table class="table">
            <thead class="thead-dark">
                    <tr>
                    <th scope="col"></th>
                    <th scope="col">Name</th>
                    <th scope="col">Runs</th>
                    <th scope="col">Balls</th>
                    </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>Player 1</td>
                    <td id="rr0">23</td>
                    <td id="bb0"></td>
                    </tr>

                <tr>
                    <th scope="row">2</th>
                    <td>Player 2</td>
                    <td id="rr1">2</td>
                    <td id="bb1"></td>
                    </tr>

                <tr>
                    <th scope="row">3</th>
                    <td>Player 3</td>
                    <td id="rr2">2</td>
                    <td id="bb2"></td>
                    </tr>

                <tr>
                    <th scope="row">4</th>
                    <td>Player 4</td>
                    <td id="rr3">2</td>
                    <td id="bb3"></td>
                    </tr>

                <tr>
                    <th scope="row">5</th>
                    <td>Player 5</td>
                    <td id="rr4">2</td>
                    <td id="bb4"></td>
f                   </tr>

                <tr>
                    <th scope="row">6</th>
                    <td>Player 6</td>
                    <td id="rr5">2</td>
                    <td id="bb5"></td>
                    </tr>

                <tr>
                    <th scope="row">7</th>
                    <td>Player 7</td>
                    <td id="rr6">2</td>
                    <td id="bb6"></td>
                    </tr>
            
                <tr>
                    <th scope="row">8</th>
                    <td>Player 8</td>
                    <td id="rr7">2</td>
                    <td id="bb7"></td>
                    </tr>

                <tr>
                    <th scope="row">9</th>
                    <td>Player 9</td>
                    <td id="rr8">2</td>
                    <td id="bb8"></td>
                    </tr>

                <tr>
                    <th scope="row">10</th>
                    <td>Player 10</td>
                    <td id="rr9">2</td>
                    <td id="bb9"></td>
                    </tr>
            
                <tr>
                    <th scope="row"></th>
                    <td align="right">Total</td>
                    <td id="t2"></td>
                    <td></td>
                    </tr>
            </tbody>
        </table>
    </div>
 </div>

</div>

</body>


<script>
let tem1PlyRuns = localStorage.getItem("team1Runs").split(',');
let tem2PlyRuns = localStorage.getItem("team2Runs").split(',');
let tem1Total = localStorage.getItem("team1Total");
let tem2Total = localStorage.getItem("team2Total");
let tem1PlyObj = JSON.parse(localStorage.getItem("playerObj"));
let tem2PlyObj = JSON.parse(localStorage.getItem("player2Obj"));
let tem1HighRun =0;
let tem2HighRun =0;

function matchResult(){
    tem1HighRun = parseInt(tem1PlyRuns[0]);
    for(i=0; i<tem1PlyRuns.length - 1; i++){
        if( tem1HighRun < parseInt(tem1PlyRuns[i+1]) ){
            tem1HighRun = parseInt(tem1PlyRuns[i+1]);
        }
    }
    //alert(tem1HighRun);

    tem2HighRun = parseInt(tem2PlyRuns[0]);
    for(i=0; i<tem2PlyRuns.length - 1; i++){
        if(tem2HighRun < parseInt(tem2PlyRuns[i+1]) ){
            tem2HighRun = parseInt(tem2PlyRuns[i+1]);
        }
    }
    //alert(tem2HighRun);
    
    for(i=0; i<10; i++){
        let rid = "r"+i;
        let bid ="b"+i;
        document.getElementById(rid).innerHTML = ((tem1PlyObj[i].total == 0) ? "0" : tem1PlyObj[i].total);
        document.getElementById(bid).innerHTML = ((tem1PlyObj[i].balls == 6 && tem1PlyObj[i].total == 0) ? "Yet to bat" : (6 - tem1PlyObj[i].balls));
    }
    document.getElementById("t1").innerHTML = localStorage.getItem("team1Total");
    
    //document.getElementById("matchSummary").innerHTML += "<span>Highest run scorer: "+tem1HighRun+"</span><br><br><br>";  
    
    for(i=0; i<10; i++){
        let rid = "rr"+i;
        let bid ="bb"+i;
        document.getElementById(rid).innerHTML = ((tem2PlyObj[i].total == 0) ? "0" : tem2PlyObj[i].total);
        document.getElementById(bid).innerHTML = ((tem2PlyObj[i].balls == 6 && tem2PlyObj[i].total == 0) ? "Yet to bat" : (6 - tem2PlyObj[i].balls));
    }
    document.getElementById("t2").innerHTML = localStorage.getItem("team2Total");
    document.getElementById("result").innerHTML = "<h2>"+localStorage.getItem("winner")+"</h2>";
    
    
    //document.getElementById("matchSummary").innerHTML += "<span>Highest run scorer: "+tem2HighRun+"</span><br>";

    let mofMatch = (tem1HighRun > tem2HighRun) ? tem1HighRun : tem2HighRun;
    document.getElementById("result").innerHTML += "<h2>Man of the match: "+mofMatch+"</h2>";

}


</script>
</html>